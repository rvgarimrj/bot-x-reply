<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

*No recent activity*
</claude-mem-context>

---

# üéØ META PRINCIPAL: 500 PREMIUM FOLLOWERS

> **TUDO que eu fa√ßo deve contribuir para atingir 500 seguidores Premium.**
> Sem isso, n√£o h√° monetiza√ß√£o. Esta √© a √öNICA m√©trica que importa.

## Status Atual (verificar daily-report)
```
Meta:       500 Premium followers
Atual:      28
Faltam:     472
Ritmo:      0/dia (CR√çTICO!)
Previs√£o:   NUNCA
```

## A F√≥rmula do Crescimento
```
Author Reply (75x boost) ‚Üí Visibilidade ‚Üí Clique no perfil ‚Üí Follow

SEM author replies = SEM boost = SEM crescimento
```

## O Que FUNCIONA vs O Que N√ÉO FUNCIONA

| ‚úÖ FUNCIONA (gera follows) | ‚ùå N√ÉO FUNCIONA |
|---------------------------|-----------------|
| Perguntas curtas genu√≠nas | Dar aula/informa√ß√£o |
| Replies <80 chars | Replies longos (>100) |
| Opini√£o pessoal | An√°lises detalhadas |
| Humor casual | Frases formais |
| Pedir opini√£o do autor | Concordar passivamente |

## M√©tricas Chave (prioridade)
1. **Author Reply Rate** - Meta: >15% (hoje: 0%)
2. **Follower Gain/dia** - Meta: +10/dia (hoje: 0)
3. **Question Rate** - Meta: >50% (hoje: 21%)
4. **Reply Length** - Meta: <80 chars (hoje: 84)

## Ajustes Autom√°ticos (daily-report 00:05)
O script `daily-report.js` roda toda noite e:
- Analisa progresso das metas
- Compara com dia anterior
- Aplica ajustes na estrat√©gia
- Reinicia daemon se necess√°rio
- Envia relat√≥rio no Telegram

## Comandos de Verifica√ß√£o
```bash
# Ver progresso das metas
cat data/goals-tracking.json | jq '.projections'

# Rodar relat√≥rio manual
node scripts/daily-report.js --dry-run --force

# Ver hist√≥rico de seguidores
cat data/goals-tracking.json | jq '.history'
```

---

## üìö APRENDIZADOS DA SESS√ÉO 2026-02-03

### üìä BASELINE DE M√âTRICAS (03/02/2026 - 19:34h)
Primeira coleta oficial do X Analytics:
```
Seguidores: 28 (meta: 500 Premium)
Seguidores Verificados: 156/1K
Impress√µes (7D): 112.3K (‚Üë2000%)
Taxa de Engajamento: 0.7% (‚Üì59%)
Engajamentos: 817 (‚Üë769%)
Visitas ao Perfil: 253 (‚Üë644%)
Respostas: 81 (‚Üë710%)
Curtidas: 214 (‚Üë756%)
Reposts: 9 (‚Üë800%)
```

**An√°lise**: Impress√µes EXCELENTES (225% da meta di√°ria de 50K), mas taxa de engajamento caiu 59%. Isso confirma que estamos gerando muito alcance mas n√£o convertendo em seguidores/conversas.

### üî¥ Diagn√≥stico Principal
**Problema**: Engajamento alto (+759%) MAS seguidores CAINDO
**Causa raiz**: Replies informativos geram LIKES mas n√£o CONVERSAS
**Author reply rate**: 0% (cr√≠tico!)

### O que Funciona vs O que N√£o Funciona
| Funcionou | N√£o Funcionou |
|-----------|---------------|
| "clawsome or clawdia lol" (23 chars, 2 likes) | "The autonomous economy..." (219 chars, 0 likes) |
| Perguntas curtas | An√°lises elaboradas |
| Humor casual | Demonstrar conhecimento |
| Replies <80 chars | Replies >150 chars |

### üíé Insight do Algoritmo (OURO)
```
Reply que autor responde = 75x mais valor que like simples
Ningu√©m responde quem est√° ensinando - responde quem est√° perguntando
```

### üîß Mudan√ßas Implementadas Hoje
1. **maxChars**: 150 ‚Üí 100 (replies mais curtos)
2. **questioning**: 30% ‚Üí 50% (mais perguntas)
3. **mustAskQuestion**: true (for√ßar perguntas)
4. **Pesquisa pr√©via**: Desativada (menos "dar aula")
5. **Experimento**: "conversation_starter" ativo

### Sistema de 7 Fontes Ativo
Verificado nos logs - todas funcionando:
- timeline (10), hackernews (6), creator_inspiration (1)
- keyword_search (5), monitored_account (5), hype_mode (3)
- app_targeting (5)

### ü§ñ Automa√ß√£o Configurada (crontab)
| Hor√°rio | Script | Fun√ß√£o |
|---------|--------|--------|
| 14:00 | collect-metrics.js | Coleta likes/replies |
| 22:00 | collect-metrics.js | Segunda coleta |
| 23:00 | analyze-and-learn.js | Gera insights |
| 23:30 | daily-optimizer.js | Aplica ajustes |
| 23:59 | nightly-analytics.js | Compara m√©tricas X |
| **00:05** | **daily-report.js** | **RELAT√ìRIO COMPLETO + Telegram + Rein√≠cio daemon** |

### üìä RELAT√ìRIO DI√ÅRIO AUTOM√ÅTICO (NOVO!)

O script `daily-report.js` √© o "c√©rebro" do sistema. Roda √†s 00:05 e:

1. **Analisa TUDO** que aconteceu no dia anterior
2. **Identifica** o que funcionou melhor e pior
3. **Compara** com dias anteriores para detectar tend√™ncias
4. **Gera insights** autom√°ticos sobre fontes, hor√°rios, estilos
5. **Aplica melhorias** de alta prioridade automaticamente
6. **Reinicia daemon** se necess√°rio para aplicar mudan√ßas
7. **Envia relat√≥rio completo** via Telegram

**Estrutura do relat√≥rio:**
```
üìä M√âTRICAS DO DIA
  - Replies, likes, author replies, tamanho m√©dio

üìä VS DIA ANTERIOR
  - Compara√ß√£o de todas as m√©tricas

‚úÖ O QUE FUNCIONOU
  - Sucessos identificados automaticamente

‚ö†Ô∏è O QUE N√ÉO FUNCIONOU
  - Problemas e a√ß√µes recomendadas

üí° O QUE EU APRENDI
  - Melhor fonte, melhores hor√°rios, melhor estilo

üîß MELHORIAS APLICADAS
  - Ajustes feitos automaticamente na estrat√©gia

üèÜ DESTAQUE DO DIA
  - Melhor e pior reply com m√©tricas
```

**Comandos:**
```bash
# Rodar manualmente (dry-run)
node scripts/daily-report.js --dry-run

# For√ßar execu√ß√£o (mesmo se j√° rodou hoje)
node scripts/daily-report.js --force

# Ver hist√≥rico de relat√≥rios
cat data/report-history.json | head -50
```

### üéØ Metas de Monetiza√ß√£o
| Requisito | Status | Progresso |
|-----------|--------|-----------|
| Premium subscriber | ‚úÖ | Completo |
| 500 Premium followers | ‚ùå | 28/500 (~48 dias) |
| 2000 verified followers | ‚ùå | 156/2000 |
| 5M impress√µes/3 meses | üü° | 112K/dia (bom ritmo!) |
| Identity verified | ‚úÖ | Completo |
| Active 30 days | ‚úÖ | Completo |

### üìÅ Arquivos Criados/Modificados Hoje
- `scripts/nightly-analytics.js` - Coleta X Analytics √†s 23:59
- `scripts/daily-optimizer.js` - Otimiza√ß√£o autom√°tica
- `scripts/dashboard-analyzer.js` - An√°lise de dashboard
- `data/nightly-analytics.json` - Hist√≥rico de m√©tricas
- `data/strategy-adjustments.json` - Estrat√©gia adaptativa
- `.claude/CLAUDE.md` - Esta documenta√ß√£o

### üìà Pr√≥ximos Passos (verificar amanh√£)
1. Comparar m√©tricas de 04/02 com hoje
2. Verificar se author reply rate subiu (meta: >10%)
3. Verificar se replies est√£o mais curtos (<80 chars)
4. Analisar se seguidores pararam de cair

---

## üöÄ CLAUDE: INICIO DE SESS√ÉO (LER PRIMEIRO!)

**Eu sou um sistema de aprendizado cont√≠nuo.** A cada sess√£o, devo:

### 1. Verificar Estado Atual
```bash
# Ver √∫ltimos insights e recomenda√ß√µes
cat data/learnings.json | head -60

# Ver estrat√©gia atual
cat data/strategy-adjustments.json | head -40
```

### 2. Rodar An√°lise (se necess√°rio)
```bash
# Se learnings.json est√° desatualizado (>24h)
node scripts/analyze-and-learn.js

# An√°lise completa com correla√ß√£o de m√©tricas
node scripts/daily-optimizer.js --dry-run
```

### 3. Continuar Melhorando
- Implementar recomenda√ß√µes pendentes
- Ajustar config baseado em dados
- Documentar mudan√ßas

### Checklist R√°pido
- [ ] Li `data/learnings.json`?
- [ ] Verifiquei `recommendations` pendentes?
- [ ] Daemon est√° rodando? (`pgrep -f auto-daemon`)
- [ ] Chrome est√° ok? (`curl -s http://127.0.0.1:9222/json/version`)

---

## üéØ ESTRAT√âGIA v4: CONVERSA√á√ÉO > INFORMA√á√ÉO (2026-02-03)

### O PROBLEMA IDENTIFICADO
- Engajamento alto (808, +759%)
- MAS seguidores CAINDO (barras vermelhas)
- Author reply rate: 0%

### DIAGN√ìSTICO
Replies informativos geram LIKES mas n√£o geram FOLLOWS nem CONVERSAS.
Exemplo ruim: "The autonomous economy is happening fast - 50+ AI agent projects..." (219 chars, 0 likes)
Exemplo bom: "clawsome or clawdia lol" (23 chars, 2 likes)

### NOVA ESTRAT√âGIA: Iniciar Conversa
```
ANTES: Demonstrar conhecimento ‚Üí Gerar likes
DEPOIS: Fazer pergunta ‚Üí Gerar RESPOSTA DO AUTOR ‚Üí 75x boost
```

### Mudan√ßas Implementadas
| √Årea | Antes | Depois |
|------|-------|--------|
| maxChars | 150 | **100** |
| questioning | 30% | **50%** |
| mustAskQuestion | false | **true** |
| Pesquisa pr√©via | Ativa | **Desativada** |

### Arquivos Criados/Modificados
- `scripts/dashboard-analyzer.js` - Coleta m√©tricas do X Analytics
- `scripts/daily-optimizer.js` - An√°lise autom√°tica + ajustes
- `data/strategy-adjustments.json` - Estrat√©gia adaptativa
- `src/claude.js` - Novo prompt focado em CONVERSA

### Comandos de Verifica√ß√£o
```bash
# Ver estrat√©gia atual
cat data/strategy-adjustments.json

# Rodar otimiza√ß√£o di√°ria
node scripts/daily-optimizer.js

# Aplicar ajustes automaticamente
node scripts/daily-optimizer.js --apply
```

### Experimento Ativo: "conversation_starter"
- Hip√≥tese: Perguntas curtas geram mais author replies que coment√°rios informativos
- M√©tricas: authorReplyRate, followerGain
- In√≠cio: 2026-02-03

---

# Bot-X-Reply

Sistema inteligente de engajamento no X (Twitter) via replies estrat√©gicos.

---

## REGRAS IMPORTANTES (SEMPRE RESPEITAR)

### PRIORIDADE #1: Parecer HUMANO (Anti-Detec√ß√£o de IA)

O usu√°rio @garimdreaming foi BLOQUEADO por contas que detectaram replies de IA.
**TODOS os replies devem parecer 100% escritos por humano.**

### PROIBIDO (Detect√°vel como IA):

**Ingl√™s:**
- "Fun fact:", "Interestingly,", "It's worth noting", "Actually,"
- "masterpiece", "revolutionary", "game-changer", "countless", "incredible"

**Portugu√™s:**
- "Curiosidade:", "Vale ressaltar:", "Na verdade,", "De fato,"
- "obra-prima", "revolucion√°rio", "incr√≠vel", "impressionante"
- "Muito bom!", "Excelente!", "Perfeito!", "Concordo plenamente!"

**Ambos:**
- Estrutura com travess√µes listando m√∫ltiplos fatos
- Gram√°tica 100% perfeita
- Empacotar muitos dados/fatos em um reply

### COMO HUMANOS ESCREVEM:

**Ingl√™s:** "omg", "lol", "ngl", "tbh", "lowkey", "fr", "no way"
**Portugu√™s:** "cara", "mano", "v√©i", "p√¥", "vc", "tb", "pq", "mt", "kkkk"

- UMA ideia por reply, n√£o uma lista
- Opini√£o pessoal, n√£o dados frios
- Informal, √†s vezes incompleto
- Mem√≥ria/experi√™ncia pessoal

### Exemplo de Reply BOM vs RUIM

**Ingl√™s:**
```
RUIM: "That's Eric Chahi's masterpiece! The rotoscoped animation was revolutionary - influenced countless indie devs."
BOM: "played this so much as a kid, the death animations were brutal"
```

**Portugu√™s:**
```
RUIM: "Essa √© a obra-prima do Eric Chahi! A anima√ß√£o rotosc√≥pica foi revolucion√°ria - influenciou in√∫meros desenvolvedores indie."
BOM: "jogava isso direto quando crian√ßa, as anima√ß√µes de morte eram brutais"
```

### Chrome - Funcionar com Tela Bloqueada
O Chrome DEVE ser iniciado com estas flags para n√£o dar timeout:
- `--disable-background-timer-throttling`
- `--disable-backgrounding-occluded-windows`
- `--disable-renderer-backgrounding`

App Nap DEVE estar desativado:
```bash
defaults write com.google.Chrome NSAppSleepDisabled -bool YES
```

### Timeout do Puppeteer
- `protocolTimeout`: 120000ms (n√£o 60000)
- `page.setDefaultTimeout`: 60000ms
- Retry autom√°tico: 3 tentativas

### Inser√ß√£o de Texto (Anti-Interfer√™ncia)
- **NAO usa** digita√ß√£o char por char (interfere se usu√°rio estiver digitando)
- **USA** inser√ß√£o via DOM (`execCommand('insertText')`)
- Textos longos (>80 chars): divide em 2-3 chunks
- Delays humanizados: 0.8-1.5s antes, 0.5-1s depois
- Permite trabalhar no computador enquanto bot posta

### Velocidade de Digita√ß√£o (Humanizada)
- **Delay por char**: 150-350ms (configurado em `HUMAN_CONFIG.typingSpeed`)
- Um reply de 100 chars leva 15-35 segundos (como pessoa real)
- NAO usar delay < 100ms (parece bot)

### Intervalo Entre Replies (Dinamico por Horario)
Intervalos variam baseado em horario de pico de engajamento:

| Tipo | Horarios | Intervalo |
|------|----------|-----------|
| **Pico** | 12-14h, 17-20h | 10-15min |
| **Bom** | 8-10h, 20-23h | 12-18min |
| **Fraco** | outros | 18-25min |

Configurado em `scripts/auto-daemon.js` > `CONFIG.peakIntervals`

---

## üèÜ ESTRAT√âGIA DE MONETIZA√á√ÉO (OURO - N√ÉO PERDER!)

### O Segredo do Algoritmo do X

O algoritmo do X √© **open source** e revela os pesos de cada tipo de engajamento:

| Tipo de Engajamento | Peso no Algoritmo | Estrat√©gia |
|---------------------|-------------------|------------|
| Like simples | 1x | ‚ùå Baixo valor |
| Bookmark | 10x | - |
| Click no link | 11x | - |
| Click no perfil + like/reply | 12x | - |
| Reply direto | 13.5x | ‚úÖ Nosso foco |
| Retweet | 20x | - |
| **Reply que recebe reply do autor** | **75x** | üéØ **M√ÅXIMO VALOR** |

### A F√≥rmula de Ouro

```
1 reply que o autor responde = 75x mais valor que 1 like

Um tweet com 5 replies onde o autor responde cada um
  gera MUITO mais valor algor√≠tmico
  que um tweet com 50 likes sem replies
```

**Conclus√£o**: Devemos priorizar tweets onde o **AUTOR RESPONDE os coment√°rios**.

### Sistema de 7 Fontes de Tweets (v3)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      DISCOVERY ENGINE v3                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  1. TIMELINE (For You)                                          ‚îÇ
‚îÇ     ‚îî‚îÄ Tweets do feed pessoal                                   ‚îÇ
‚îÇ     ‚îî‚îÄ Score base: +0                                           ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  2. TRENDING TOPICS                                             ‚îÇ
‚îÇ     ‚îî‚îÄ T√≥picos em alta filtrados por keywords tech/AI/crypto    ‚îÇ
‚îÇ     ‚îî‚îÄ Score base: +10                                          ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  3. HACKER NEWS                                                 ‚îÇ
‚îÇ     ‚îî‚îÄ API top stories ‚Üí busca tweets relacionados              ‚îÇ
‚îÇ     ‚îî‚îÄ Score base: +15 (alta relev√¢ncia tech)                   ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  4. CREATOR INSPIRATION                                         ‚îÇ
‚îÇ     ‚îî‚îÄ URL: x.com/i/jf/creators/inspiration/top_posts           ‚îÇ
‚îÇ     ‚îî‚îÄ Tweets curados pelo algoritmo do X                       ‚îÇ
‚îÇ     ‚îî‚îÄ Score base: +25 (+15 extra se tab "replies")             ‚îÇ
‚îÇ     ‚îî‚îÄ Fallback: busca "AI startup", "shipped product"          ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  5. KEYWORD SEARCH (NOVO!)                                      ‚îÇ
‚îÇ     ‚îî‚îÄ Busca ativa por termos relevantes do nicho               ‚îÇ
‚îÇ     ‚îî‚îÄ Score base: +12                                          ‚îÇ
‚îÇ     ‚îî‚îÄ 2 keywords por ciclo (aleatorias)                        ‚îÇ
‚îÇ     ‚îî‚îÄ Queries: "AI startup", "just shipped", "bitcoin", etc.   ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  6. MONITORED ACCOUNTS (NOVO!)                                  ‚îÇ
‚îÇ     ‚îî‚îÄ Contas importantes que N√ÉO seguimos                      ‚îÇ
‚îÇ     ‚îî‚îÄ Score base: +25 (high) / +15 (medium)                    ‚îÇ
‚îÇ     ‚îî‚îÄ 3 contas por ciclo (aleatorias)                          ‚îÇ
‚îÇ     ‚îî‚îÄ 20+ contas: sama, paulg, levelsio, karpathy, etc.        ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  7. HYPE MODE (NOVO!)                                           ‚îÇ
‚îÇ     ‚îî‚îÄ Tweets com alto engajamento FORA do nicho                ‚îÇ
‚îÇ     ‚îî‚îÄ Score base: +35 (-10 se fora do nicho)                   ‚îÇ
‚îÇ     ‚îî‚îÄ Crit√©rio: likes > 1000 OU replies > 300                  ‚îÇ
‚îÇ     ‚îî‚îÄ Estrat√©gia 70/30: roda 30% dos ciclos (100% em pico)     ‚îÇ
‚îÇ     ‚îî‚îÄ Blocklist: pol√≠tica, religi√£o, BBB, futebol              ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Estrat√©gia 70/30 (Nicho vs Hype)

| Tipo | % | Crit√©rio | Objetivo |
|------|---|----------|----------|
| **Nicho** | 70% | Passa em RELEVANT_PATTERNS | Seguidores qualificados tech/AI/crypto |
| **Hype** | 30% | likes > 1000 OU replies > 300 | Exposi√ß√£o para apps de p√∫blico geral |

**Por que Hype Mode?**
- Portfolio de MVPs (Bot-Ultra-Power) com apps para diferentes p√∫blicos
- Post fixado cont√©m portfolio - qualquer seguidor pode descobrir apps
- Maximiza seguidores qualificados (nicho) + exposi√ß√£o geral (hype)

### Sistema de Score Inteligente

```
SCORE FINAL = Base + Engajamento + Rec√™ncia + Fonte + Autor

‚îÅ‚îÅ‚îÅ BASE ‚îÅ‚îÅ‚îÅ
likes/100 + retweets/10

‚îÅ‚îÅ‚îÅ REC√äNCIA ‚îÅ‚îÅ‚îÅ
< 1h:  +50  ‚îÇ  < 2h:  +40  ‚îÇ  < 4h:  +20  ‚îÇ  < 8h:  +10

‚îÅ‚îÅ‚îÅ FONTE (7 fontes) ‚îÅ‚îÅ‚îÅ
Timeline:            +0
Trending:           +10
HackerNews:         +15
Creator Inspiration: +25
  ‚îî‚îÄ Tab "replies": +15 extra (alta conversa√ß√£o!)
Keyword Search:     +12 (NOVO!)
Monitored Account:  +25 (high) / +15 (medium) (NOVO!)
Hype Mode:          +35 (-10 se fora do nicho) (NOVO!)

‚îÅ‚îÅ‚îÅ AUTOR ENGAJADO ‚îÅ‚îÅ‚îÅ
(Se verificamos que autor responde coment√°rios)
5+ replies do autor: +40
3+ replies:         +25
1+ replies:         +10

‚îÅ‚îÅ‚îÅ CONTE√öDO ‚îÅ‚îÅ‚îÅ
Tem pergunta (?):     +20
Opini√£o pol√™mica:     +15
Conta priorit√°ria:    +30
```

### Distribui√ß√£o por Hor√°rio de Pico

```
HOR√ÅRIOS DE PICO (Timezone BR + USA)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üî• PICO M√ÅXIMO ‚îÇ 12-14h, 17-20h ‚îÇ Intervalo: 10-15min
   BR: almo√ßo + fim de tarde
   USA: manh√£ + tarde
   ‚Üí MAIS replies nesse hor√°rio!

üìà BOM         ‚îÇ 8-10h, 20-23h  ‚îÇ Intervalo: 12-18min
   BR: manh√£ + noite
   ‚Üí Ritmo normal

üìâ FRACO       ‚îÇ outros         ‚îÇ Intervalo: 18-25min
   ‚Üí Economiza para hor√°rios melhores
```

### Filtro de Keywords (Anti-Ru√≠do)

**NOSSO NICHO**: Tech/IA/Investimentos/Economia/Crypto/Vibe Coding

A p√°gina Creator Inspiration mostra tweets populares GERAIS (BBB, m√∫sica, fofoca).
Filtramos com regex + word boundaries para garantir tweets do NICHO:

```
TECH/AI:
  gpt, chatgpt, llm, claude, openai, anthropic
  machine learning, artificial intelligence, neural network

STARTUPS:
  startup, founder, entrepreneur, vc, funding
  shipped, revenue, mrr, bootstrap, indie hacker

CRYPTO:
  bitcoin, btc, ethereum, web3, defi, nft, blockchain
  altcoin, memecoin, bull market, bear market, bullish, bearish

INVESTIMENTOS/ECONOMIA (NOVO!):
  stock, stocks, stock market, s&p 500, nasdaq, dow jones
  fed, federal reserve, interest rate, inflation
  gdp, recession, economy, economic
  investing, investment, portfolio, trading, trader
  market, markets, market cap, earnings, revenue
  hedge fund, asset, macro, fiscal, monetary
  bond, treasury, yield, gold, commodities
  etf, index fund, dividend, passive income

VIBE CODING/DEV:
  coding, programming, python, react, github, deploy
  vibe coding, cursor, copilot, code editor, vscode
```

### Learning System (Auto-Melhoria)

O sistema aprende automaticamente quais fontes geram mais engajamento:

```javascript
// Estrutura de dados em data/knowledge.json
{
  "sourceStats": {
    "creator_inspiration_replies": {
      "posts": 45,
      "totalLikes": 540,
      "authorReplies": 8,    // ‚Üê MAIS IMPORTANTE!
      "follows": 3
    },
    "timeline": {
      "posts": 120,
      "totalLikes": 890,
      "authorReplies": 12,
      "follows": 5
    }
  }
}

// Ap√≥s 100+ posts, sistema auto-prioriza fontes com maior:
// authorReplies / posts (taxa de reply do autor)
```

### Fluxo Completo: Reply ‚Üí Seguidor ‚Üí Monetiza√ß√£o

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  DISCOVERY  ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   REPLY     ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   BOOST     ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ CONVERS√ÉO   ‚îÇ
‚îÇ  4 fontes   ‚îÇ    ‚îÇ Inteligente ‚îÇ    ‚îÇ Algor√≠tmico ‚îÇ    ‚îÇ             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ                  ‚îÇ                  ‚îÇ                  ‚îÇ
      ‚ñº                  ‚ñº                  ‚ñº                  ‚ñº
 Encontra tweets    Anti-detec√ß√£o     Autor responde     Visibilidade
 do nicho tech/     Rota√ß√£o estilos   = 75x boost        para milhares
 AI/crypto          Parecer humano                       de pessoas
                                                              ‚îÇ
                                                              ‚ñº
                                                     Novos seguidores
                                                     QUALIFICADOS
                                                     (mesmo nicho)
                                                              ‚îÇ
                                                              ‚ñº
                                                      MONETIZA√á√ÉO
                                                     (produtos, afiliados,
                                                      consultoria, etc.)
```

### Comandos de Verifica√ß√£o (IMPORTANTE!)

```bash
# 1. Verificar se o novo sistema est√° ativo (7 fontes)
node -e "import('./src/discovery.js').then(m => {
  console.log('Fun√ß√µes dispon√≠veis:')
  console.log('- findTweetsFromTimeline:', typeof m.findTweetsFromTimeline)
  console.log('- findTrendingTweets:', typeof m.findTrendingTweets)
  console.log('- findHackerNewsTweets:', typeof m.findHackerNewsTweets)
  console.log('- findCreatorInspirationTweets:', typeof m.findCreatorInspirationTweets)
  console.log('- findTweetsFromKeywordSearch:', typeof m.findTweetsFromKeywordSearch)
  console.log('- findTweetsFromMonitoredAccounts:', typeof m.findTweetsFromMonitoredAccounts)
  console.log('- findHighEngagementTweets:', typeof m.findHighEngagementTweets)
})"

# 2. Testar discovery completo (7 fontes)
node -e "import('./src/discovery.js').then(m => m.discoverTweets(15).then(t => {
  console.log('Tweets encontrados:', t.length)
  const sources = {}
  t.forEach(x => sources[x.source] = (sources[x.source]||0)+1)
  console.log('Por fonte:', sources)
  console.log('Top 5:', t.slice(0,5).map(x => x.author + ':' + x.score + ':' + x.source))
}))"

# 3. Testar Keyword Search
node -e "import('./src/discovery.js').then(m => m.findTweetsFromKeywordSearch(3).then(t => {
  console.log('Keyword Search:', t.length, 'tweets')
  t.forEach(x => console.log('-', x.author, '| score:', x.score, '| query:', x.searchKeyword?.slice(0,30)))
}))"

# 4. Testar Monitored Accounts
node -e "import('./src/discovery.js').then(m => m.findTweetsFromMonitoredAccounts(3).then(t => {
  console.log('Monitored Accounts:', t.length, 'tweets')
  t.forEach(x => console.log('-', x.author, '| score:', x.score, '| priority:', x.accountPriority))
}))"

# 5. Testar Hype Mode
node -e "import('./src/discovery.js').then(m => m.findHighEngagementTweets(3).then(t => {
  console.log('Hype Mode:', t.length, 'tweets')
  t.forEach(x => console.log('-', x.author, '| score:', x.score, '| outsideNiche:', x.isOutsideNiche))
}))"

# 6. Ver learning system (melhores fontes)
node -e "import('./src/knowledge.js').then(m => {
  const best = m.getBestSources(7)
  console.log('Melhores fontes aprendidas:')
  best.forEach((s,i) => console.log((i+1)+'.', s.source, '- authorReplyRate:', s.authorReplyRate))
})"

# 7. Verificar se daemon est√° usando vers√£o nova
ps aux | grep auto-daemon | grep -v grep
# Se estiver rodando, reiniciar para usar c√≥digo novo:
# pkill -2 -f "auto-daemon.js" && sleep 2 && node scripts/auto-daemon.js
```

### M√©tricas de Sucesso Esperadas

| M√©trica | v2 (4 fontes) | v3 (7 fontes) | Melhoria |
|---------|---------------|---------------|----------|
| Fontes de tweets | 4 | 7 | +75% |
| Tweets por ciclo | 8-12 | 15-25 | +100% |
| Contas alcan√ßadas | ~20 | 50+ | +150% |
| Score m√©dio | ~85 | ~95 | +12% |
| Diversidade | s√≥ quem segue | qualquer conta | ‚Üë‚Üë‚Üë |
| Oportunidades virais | 0% | 30% | ‚àû |
| Qualidade seguidores | alta | alta + geral | balanceado |

---

## üß™ VERIFICA√á√ÉO DE SUCESSO

### Script de Teste Automatizado

```bash
# Rodar verifica√ß√£o completa (5 testes)
node scripts/check-success.js
```

**Testes executados:**
1. ‚úÖ Discovery com 7 fontes
2. ‚úÖ Creator Inspiration + Fallback
3. ‚úÖ Keyword Search (busca ativa)
4. ‚úÖ Monitored Accounts (contas n√£o seguidas)
5. ‚úÖ Hype Mode (alto engajamento)
6. ‚úÖ Learning System coletando dados
7. ‚úÖ Filtro de keywords do nicho

### Monitoramento Cont√≠nuo

```bash
# Ver logs do daemon em tempo real
tail -f logs/auto-daemon.log

# Verificar se daemon est√° rodando
ps aux | grep auto-daemon | grep -v grep

# Ver estat√≠sticas do Learning System
node -e "import('./src/knowledge.js').then(m => {
  const best = m.getBestSources(5)
  console.log('Melhores fontes:')
  best.forEach((s,i) => console.log((i+1)+'.', s.source, '| posts:', s.posts, '| authorReplies:', s.authorReplies))
})"
```

### Marcos de Sucesso

| Marco | Quando | A√ß√£o |
|-------|--------|------|
| **10 posts** | Dia 1 | Verificar se todas as fontes est√£o contribuindo |
| **50 posts** | Dia 2-3 | Analisar quais fontes geram mais engajamento |
| **100 posts** | Dia 4-5 | Learning System tem dados suficientes para otimizar |
| **200 posts** | Semana 2 | Analisar crescimento de seguidores qualificados |

### Sinais de Sucesso

**‚úÖ Funcionando bem se:**
- Discovery busca de 7 fontes (ver "Por fonte:" nos logs)
- Keyword Search retorna tweets relevantes
- Monitored Accounts captura tweets de contas importantes
- Hype Mode ativa em hor√°rios de pico
- Scores > 50 para tweets selecionados
- Learning System registra sourceStats
- Replies parecem humanos (sem flags de IA)

**‚ö†Ô∏è Aten√ß√£o se:**
- Apenas 1-3 fontes retornando tweets
- Scores consistentemente < 30
- Muitos erros nos logs
- Hype Mode trazendo tweets da blocklist
- 0 tweets encontrados frequentemente

### Pr√≥ximos Passos (Checklist)

- [ ] Ap√≥s 100 posts: verificar `getBestSources()`
- [ ] Identificar fonte com maior `authorReplyRate`
- [ ] Considerar ativar `check_author_engagement` no config
- [ ] Analisar quais tipos de reply geram mais follows
- [ ] Ajustar keywords se necess√°rio para o nicho

---

## üß† SISTEMA DE APRENDIZADO CONT√çNUO (CLAUDE)

### Como Eu (Claude) Aprendo Entre Sess√µes

Para continuar melhorando o bot, use este comando no in√≠cio de cada sess√£o:

```bash
# Mostra relat√≥rio completo para eu analisar
node scripts/analyze-and-learn.js
```

Isso me mostra:
- Performance de cada fonte
- Melhores hor√°rios
- Insights autom√°ticos
- Recomenda√ß√µes de otimiza√ß√£o

### Arquivos que Eu Leio para "Lembrar"

| Arquivo | O que Cont√©m |
|---------|--------------|
| `data/learnings.json` | Insights, padr√µes, recomenda√ß√µes aprendidas |
| `data/knowledge.json` | Replies postados, m√©tricas, sourceStats |
| `.claude/CLAUDE.md` | Estrat√©gias e regras do sistema |

### Workflow de Melhoria Cont√≠nua

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    CICLO DE APRENDIZADO                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  1. DAEMON POSTA REPLIES                                        ‚îÇ
‚îÇ     ‚îî‚îÄ Registra fonte, score, hor√°rio em knowledge.json        ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  2. COLLECT-METRICS (a cada 6-12h)                              ‚îÇ
‚îÇ     ‚îî‚îÄ Coleta likes, replies, authorReplied                    ‚îÇ
‚îÇ     ‚îî‚îÄ Atualiza m√©tricas em knowledge.json                     ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  3. ANALYZE-AND-LEARN (di√°rio/semanal)                          ‚îÇ
‚îÇ     ‚îî‚îÄ Analisa padr√µes de performance                          ‚îÇ
‚îÇ     ‚îî‚îÄ Gera insights autom√°ticos                               ‚îÇ
‚îÇ     ‚îî‚îÄ Salva learnings em learnings.json                       ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  4. SESS√ÉO COM CLAUDE (quando necess√°rio)                       ‚îÇ
‚îÇ     ‚îî‚îÄ Roda: node scripts/analyze-and-learn.js                 ‚îÇ
‚îÇ     ‚îî‚îÄ Claude analisa relat√≥rio                                 ‚îÇ
‚îÇ     ‚îî‚îÄ Claude prop√µe/implementa melhorias                      ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  5. DEPLOY DAS MELHORIAS                                        ‚îÇ
‚îÇ     ‚îî‚îÄ Reinicia daemon com c√≥digo novo                         ‚îÇ
‚îÇ     ‚îî‚îÄ Volta para passo 1                                       ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Comandos para An√°lise com Claude

```bash
# 1. Gerar relat√≥rio completo (PRINCIPAL)
node scripts/analyze-and-learn.js

# 2. Verificar sistema est√° funcionando
node scripts/check-success.js

# 3. Coletar m√©tricas (necess√°rio para aprender)
node scripts/collect-metrics.js --all

# 4. Ver estado atual em tempo real
cat data/learnings.json | head -50
```

### O que Eu (Claude) Posso Melhorar

Baseado nos dados, posso ajustar:

| √Årea | Arquivo | Tipo de Ajuste |
|------|---------|----------------|
| Prioridade de fontes | `config/accounts.json` | Aumentar/reduzir peso |
| Hor√°rios de pico | `scripts/auto-daemon.js` | Ajustar intervalos |
| Keywords do nicho | `src/discovery.js` | Adicionar/remover termos |
| Estilos de reply | `src/claude.js` | Ajustar prompts |
| Filtros de qualidade | `config/accounts.json` | min_likes, max_replies |

### Marcos de Aprendizado

| Replies | O que Acontece |
|---------|----------------|
| 50 | Primeiros padr√µes vis√≠veis |
| 100 | Learning System tem dados confi√°veis |
| 200 | Insights de hor√°rio e estilo aparecem |
| 500 | Sistema auto-otimizado, ajustes finos |

---

## üìä MONITORAMENTO E AUTO-OTIMIZA√á√ÉO

### Scripts de Monitoramento

O sistema inclui 3 scripts para monitoramento e otimiza√ß√£o cont√≠nua:

| Script | Fun√ß√£o | Frequ√™ncia Recomendada |
|--------|--------|------------------------|
| `check-success.js` | Verifica se sistema est√° funcionando | Ap√≥s mudan√ßas |
| `monitor-and-optimize.js` | Analisa performance e sugere otimiza√ß√µes | Diariamente |
| `collect-metrics.js` | Coleta likes/replies dos posts | A cada 6-12h |

### Comandos de Monitoramento

```bash
# 1. Verifica√ß√£o r√°pida (5 testes)
node scripts/check-success.js

# 2. An√°lise completa de performance
node scripts/monitor-and-optimize.js

# 3. Coletar m√©tricas de engajamento
node scripts/collect-metrics.js          # √öltimos 20 replies
node scripts/collect-metrics.js --all    # Todos sem m√©tricas

# 4. Ver estat√≠sticas em tempo real
node -e "import('./src/knowledge.js').then(m => {
  const stats = m.getSourceStats()
  console.log('=== PERFORMANCE POR FONTE ===')
  Object.entries(stats).forEach(([src, data]) => {
    const rate = data.posts > 0 ? (data.authorReplies/data.posts*100).toFixed(1) : 0
    console.log(src + ': ' + data.posts + ' posts, ' + rate + '% author replies')
  })
})"
```

### Workflow de Otimiza√ß√£o

```
DI√ÅRIO (23:30 - antes do resumo):
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
1. Daemon envia resumo no Telegram
2. Sistema j√° registrou sourceStats

SEMANAL (ap√≥s 100+ posts):
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
1. Rodar: node scripts/monitor-and-optimize.js
2. Analisar quais fontes t√™m maior authorReplyRate
3. Considerar ajustes no config/accounts.json

QUANDO NECESS√ÅRIO:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
- Se engajamento cair: node scripts/collect-metrics.js --all
- Se muitos tweets fora do nicho: ajustar keywords
- Se poucos tweets: reduzir min_likes no config
```

### O que o Sistema Aprende

```javascript
// data/knowledge.json - sourceStats
{
  "creator_inspiration_replies": {
    "posts": 45,           // Quantos replies postamos dessa fonte
    "totalLikes": 540,     // Total de likes recebidos
    "authorReplies": 8,    // Quantos autores responderam (75x boost!)
    "follows": 3           // Novos follows (estimado)
  }
}

// C√°lculo de performance:
authorReplyRate = authorReplies / posts * 100

// Sistema prioriza fontes com maior authorReplyRate
// ap√≥s 100+ posts
```

### M√©tricas Chave (KPIs)

| KPI | Meta | Como Medir |
|-----|------|------------|
| Author Reply Rate | >20% | `authorReplies / posts` |
| Avg Likes | >5 | `totalLikes / posts` |
| Posts/Dia | 50-80 | Resumo di√°rio Telegram |
| Fontes Ativas | 7 | `check-success.js` |
| Contas Alcan√ßadas | 50+ | Monitored + Hype |

### Alertas Autom√°ticos

O `monitor-and-optimize.js` gera alertas quando:

```
‚ö†Ô∏è ALERTA: Fonte X tem performance muito abaixo da m√©dia
   Considerar desativar ou revisar keywords

‚ö†Ô∏è ALERTA: authorReplyRate geral abaixo de 10%
   Revisar qualidade dos replies ou sele√ß√£o de tweets

‚ö†Ô∏è ALERTA: 0 tweets encontrados em 3 ciclos consecutivos
   Verificar conex√£o com Chrome ou filtros muito restritivos
```

### Ciclo de Melhoria Cont√≠nua

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   POSTAR REPLY   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ REGISTRAR FONTE  ‚îÇ ‚Üê recordSourceOutcome()
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ COLETAR M√âTRICAS ‚îÇ ‚Üê collect-metrics.js (6-12h depois)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ATUALIZAR STATS  ‚îÇ ‚Üê updateSourceMetrics()
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ANALISAR PADR√ïES ‚îÇ ‚Üê monitor-and-optimize.js
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ AJUSTAR PRIORID. ‚îÇ ‚Üê getSourcePriorityMultiplier()
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
     (loop...)
```

### üì• FLUXO DE ALIMENTA√á√ÉO DE DADOS

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                    QUANDO E QUE DADOS S√ÉO COLETADOS
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

MOMENTO 1: IMEDIATAMENTE AP√ìS POSTAR (auto-daemon.js)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Fun√ß√£o: recordSourceOutcome() + addReply()
Dados salvos em knowledge.json:

  replies[]: {
    id, timestamp, tweetUrl, tweetAuthor, tweetText,
    replyText, replyIndex, wasRecommended,
    source,           ‚Üê "timeline", "trending", "hackernews", "creator_inspiration"
    inspirationTab,   ‚Üê "replies", "likes", "search_fallback"
    score,            ‚Üê score calculado do tweet
    style,            ‚Üê estilo usado ("direct", "memory", etc)
    language,         ‚Üê "en" ou "pt"
    metrics: { likes: null, replies: null, authorReplied: null }
  }

  sourceStats[source]: {
    posts++,          ‚Üê contador
    avgScore,         ‚Üê m√©dia dos scores
    lastUsed          ‚Üê timestamp
  }


MOMENTO 2: 6-12 HORAS DEPOIS (collect-metrics.js)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Fun√ß√£o: fetchReplyMetrics() + updateReplyMetrics()
Processo:
  1. Navega para tweetUrl de cada reply
  2. Encontra nosso reply na thread
  3. Extrai m√©tricas do reply
  4. Verifica se autor original respondeu

Dados atualizados em knowledge.json:

  replies[].metrics: {
    likes,            ‚Üê quantos likes nosso reply recebeu
    replies,          ‚Üê quantos replies nosso reply recebeu
    authorReplied,    ‚Üê BOOLEAN: autor original respondeu? (75x boost!)
    checkedAt         ‚Üê timestamp da coleta
  }

  sourceStats[source]: {
    totalLikes += likes,
    authorReplies++   ‚Üê se authorReplied = true
  }


MOMENTO 3: DIARIAMENTE/SEMANALMENTE (analyze-and-learn.js)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Fun√ß√£o: analyzeSourcePerformance(), generateInsights()
Processo:
  1. L√™ knowledge.json (replies + sourceStats)
  2. Calcula m√©tricas agregadas por fonte, hor√°rio, estilo
  3. Identifica padr√µes de sucesso
  4. Gera insights e recomenda√ß√µes

Dados salvos em learnings.json:

  patterns: {
    bestSources,      ‚Üê ["creator_inspiration_replies", "hackernews"]
    bestHours,        ‚Üê [12, 13, 17, 18, 19]
    bestStyles        ‚Üê ["observation", "question"]
  }

  insights[]: {
    type,             ‚Üê "success", "warning", "info"
    category,         ‚Üê "source", "timing", "engagement"
    message,          ‚Üê texto do insight
    action,           ‚Üê a√ß√£o recomendada
    date
  }

  recommendations[]: {
    priority,         ‚Üê "high", "medium", "low"
    title, description, action
  }


MOMENTO 4: NOVA SESS√ÉO CLAUDE (session-context.js + hook)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Fun√ß√£o: Hook SessionStart
Processo:
  1. L√™ learnings.json e knowledge.json
  2. Gera resumo de contexto
  3. Claude recebe e pode agir

Claude pode ent√£o:
  - Implementar recomenda√ß√µes
  - Ajustar config/accounts.json
  - Modificar src/discovery.js (keywords, scores)
  - Atualizar intervalos em auto-daemon.js

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
```

### üîÑ Automa√ß√£o da Coleta

Para automatizar collect-metrics, adicionar ao crontab:

```bash
# Editar crontab
crontab -e

# Adicionar (roda 2x ao dia: 14h e 22h)
0 14 * * * cd /Users/user/AppsCalude/Bot-X-Reply && node scripts/collect-metrics.js >> logs/collect-metrics.log 2>&1
0 22 * * * cd /Users/user/AppsCalude/Bot-X-Reply && node scripts/collect-metrics.js >> logs/collect-metrics.log 2>&1

# An√°lise di√°ria √†s 23:00
0 23 * * * cd /Users/user/AppsCalude/Bot-X-Reply && node scripts/analyze-and-learn.js >> logs/analyze.log 2>&1
```

### üìä Estrutura dos Arquivos de Dados

```
data/
‚îú‚îÄ‚îÄ knowledge.json     # 500KB-2MB (cresce com replies)
‚îÇ   ‚îú‚îÄ‚îÄ replies[]      # Array de todos os replies postados
‚îÇ   ‚îú‚îÄ‚îÄ sourceStats{}  # Estat√≠sticas por fonte
‚îÇ   ‚îú‚îÄ‚îÄ patterns{}     # Padr√µes identificados
‚îÇ   ‚îî‚îÄ‚îÄ lastUpdated    # Timestamp
‚îÇ
‚îú‚îÄ‚îÄ learnings.json     # ~10KB (insights consolidados)
‚îÇ   ‚îú‚îÄ‚îÄ insights[]     # √öltimos 50 insights
‚îÇ   ‚îú‚îÄ‚îÄ patterns{}     # Melhores fontes/hor√°rios/estilos
‚îÇ   ‚îú‚îÄ‚îÄ recommendations[] # A√ß√µes pendentes
‚îÇ   ‚îî‚îÄ‚îÄ changelog[]    # Hist√≥rico de an√°lises
‚îÇ
‚îî‚îÄ‚îÄ targeting-cache.json  # Cache da API Bot-Ultra-Power
    ‚îú‚îÄ‚îÄ lastSync       # √öltima sincroniza√ß√£o
    ‚îú‚îÄ‚îÄ apps[]         # Apps ativos com keywords/audi√™ncia
    ‚îî‚îÄ‚îÄ twitterAccounts[] # Contas para monitorar
```

---

## üîó INTEGRA√á√ÉO COM TARGETING API (Bot-Ultra-Power)

### O que √©
O Bot-X-Reply sincroniza com a API do Bot-Ultra-Power para:
1. **Buscar keywords dos apps ativos** - Usa keywords dos MVPs para encontrar tweets relevantes
2. **Monitorar contas Twitter** - Contas relacionadas aos apps para responder
3. **Rastrear performance por app** - Qual app gera mais engajamento

### API Endpoint
```
https://gabrielabiramia-dashboard-production.up.railway.app/api/targeting
```

### Dados Sincronizados
```javascript
// data/targeting-cache.json
{
  "lastSync": "2026-02-03T02:25:04.520Z",
  "apps": [
    {
      "slug": "wikiscroll",
      "name": "WikiScroll",
      "score": 85,
      "expiresAt": "2026-02-07",
      "keywords": {
        "pt-BR": { "primary": ["educa√ß√£o", "aprendizado"], "hashtags": ["#Educa√ß√£o"] },
        "en-US": { "primary": ["education", "learning"], "hashtags": ["#Education"] }
      },
      "targetAudience": {
        "quantity": "50M+",
        "painPoint": "Falta de tempo para ler artigos longos"
      }
    }
  ],
  "twitterAccounts": [
    { "username": "@productHunt", "appSlug": "wikiscroll", "priority": "high" }
  ]
}
```

### Sincroniza√ß√£o Autom√°tica
- **Frequ√™ncia**: A cada 6 horas (se daemon estiver rodando)
- **Trigger**: No in√≠cio de cada ciclo do daemon
- **Arquivo**: `src/targeting.js`

### Como Verificar
```bash
# Ver cache atual
cat data/targeting-cache.json | head -50

# Ver apps sincronizados
node -e "
import { readFileSync } from 'fs'
const cache = JSON.parse(readFileSync('data/targeting-cache.json'))
console.log('Apps:', cache.apps?.length)
console.log('Contas:', cache.twitterAccounts?.length)
cache.apps?.forEach(a => console.log('-', a.name, '| expires:', a.expiresAt))
"
```

---

## ü§ñ AUTOMA√á√ÉO COMPLETA (CRONTAB)

### Jobs Configurados
```bash
# Ver crontab atual
crontab -l

# Resultado esperado:
# 0 14 * * * cd /Users/user/AppsCalude/Bot-X-Reply && node scripts/collect-metrics.js
# 0 22 * * * cd /Users/user/AppsCalude/Bot-X-Reply && node scripts/collect-metrics.js
# 0 23 * * * cd /Users/user/AppsCalude/Bot-X-Reply && node scripts/analyze-and-learn.js
```

### Fluxo Di√°rio Automatizado
```
08:00 ‚Üí Daemon inicia (via LaunchAgent ou manual)
14:00 ‚Üí Crontab: collect-metrics.js (coleta likes/replies)
22:00 ‚Üí Crontab: collect-metrics.js (segunda coleta)
23:00 ‚Üí Crontab: analyze-and-learn.js (gera insights)
23:30 ‚Üí Daemon: envia resumo di√°rio no Telegram
```

### O que Claude Recebe a Cada Sess√£o
O hook `SessionStart` automaticamente mostra:
- Status do daemon (rodando/parado)
- √öltimo reply (h√° quanto tempo)
- Replies hoje vs hist√≥rico
- Insights recentes
- Recomenda√ß√µes pendentes

---

## Arquitetura

- **Telegram Bot** (`@garim_x_reply_bot`): Interface de aprova√ß√£o
- **Claude API**: Gera√ß√£o de replies com detec√ß√£o de idioma
- **Playwright MCP**: Automa√ß√£o do browser para postar

## Modos de Operacao

### Modo AUTONOMO (PRINCIPAL) - auto-daemon.js
**Este e o modo recomendado para 50+ replies/dia**

1. Daemon roda 8h-23h59 automaticamente
2. Busca tweets de **4 fontes**: timeline, trending, Hacker News, **Creator Inspiration**
3. Filtra: ja respondidos, limite por conta, qualidade
4. Gera reply com rotacao de estilo (anti-deteccao)
5. Posta via Puppeteer automaticamente
6. Notifica cada reply no Telegram (silencioso)
7. Envia resumo diario as 23:30

**Intervalo dinamico por horario de pico**:
- Pico (12-14h, 17-20h): 10-15min
- Bom (8-10h, 20-23h): 12-18min
- Fraco: 18-25min

**Decisao inteligente**: se atingiu meta normal (70), so posta tweets score >= 80

### Modo Manual (On-Demand) - reply-bot.js
1. Usuario envia URL de tweet no Telegram
2. Claude extrai texto e gera 3 opcoes de reply
3. Usuario aprova/edita
4. Bot posta via Puppeteer

### Modo Proativo Antigo - search-daemon.js
1. Daemon busca tweets de contas configuradas
2. Notifica usuario no Telegram
3. Mesmo fluxo de aprovacao manual

## Estrutura

```
src/
‚îú‚îÄ‚îÄ claude.js      # Geracao de replies + STYLE ROTATION (5 estilos/idioma)
‚îú‚îÄ‚îÄ telegram.js    # Interface Telegram + sendDailySummary()
‚îú‚îÄ‚îÄ browser.js     # Instrucoes para Playwright MCP
‚îú‚îÄ‚îÄ finder.js      # Busca, filtragem, tracking (50-80/dia)
‚îú‚îÄ‚îÄ discovery.js   # NOVO: Multi-source discovery (timeline + trending + HN)
‚îú‚îÄ‚îÄ puppeteer.js   # Automacao Chrome para postar
‚îú‚îÄ‚îÄ research.js    # Pesquisa contexto antes de gerar
‚îú‚îÄ‚îÄ knowledge.js   # Base de conhecimento (aprendizado)
‚îî‚îÄ‚îÄ twitter.js     # API do X (leitura)

scripts/
‚îú‚îÄ‚îÄ auto-daemon.js   # PRINCIPAL: Sistema autonomo 50+ replies/dia
‚îú‚îÄ‚îÄ reply-bot.js     # Bot manual (Telegram listener)
‚îî‚îÄ‚îÄ search-daemon.js # Busca proativa antiga (Modo B)

config/
‚îú‚îÄ‚îÄ profile.json   # Expertise e estilo do usuario
‚îî‚îÄ‚îÄ accounts.json  # Contas + discovery + daily_limits

data/
‚îî‚îÄ‚îÄ knowledge.json # Base de conhecimento persistente
```

## Executar via Playwright MCP

Quando o bot gera instru√ß√µes, execute no Claude Code:

```
mcp__playwright__browser_navigate("URL")
mcp__playwright__browser_snapshot
mcp__playwright__browser_click("seletor")
mcp__playwright__browser_type("texto")
mcp__playwright__browser_take_screenshot
```

## Limites de Seguran√ßa

### Modo Manual (reply-bot.js)
- Max 80 replies/dia
- Intervalo 15min-2h entre replies
- Aprovacao via Telegram
- Detecta idioma automaticamente

### Modo Autonomo (auto-daemon.js) - PRINCIPAL
- **Minimo**: 50 replies/dia
- **Normal**: 70 replies/dia
- **Maximo**: 80 replies/dia (anti-bot)
- **Horario**: 8h - 23h59
- **Intervalo**: 10-25min (dinamico)
- **Max por conta**: 3 replies/dia
- **Resumo diario**: 23:30 no Telegram
- **100% autonomo** - sem aprovacao manual

## Subir Servicos (se cairem ou apos reiniciar)

### 1. Chrome do Bot (modo debug) - OBRIGATORIO
```bash
# Mata Chrome do bot se estiver travado
pkill -9 -f "chrome-bot-profile"

# Inicia Chrome com flags anti-suspensao
"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome" \
  --remote-debugging-port=9222 \
  --user-data-dir="$HOME/.chrome-bot-profile" \
  --no-first-run \
  --disable-background-timer-throttling \
  --disable-backgrounding-occluded-windows \
  --disable-renderer-backgrounding \
  "https://x.com" &
```

### 2. AUTO-DAEMON (Principal - 50+ replies/dia)
```bash
cd /Users/user/AppsCalude/Bot-X-Reply

# Foreground (para ver logs)
node scripts/auto-daemon.js

# Background (producao)
nohup node scripts/auto-daemon.js >> logs/auto-daemon.log 2>&1 &
```

### 3. Bot Telegram Manual (opcional)
```bash
cd /Users/user/AppsCalude/Bot-X-Reply
node scripts/reply-bot.js &
```

### 4. Desativar App Nap (se necessario)
```bash
defaults write com.google.Chrome NSAppSleepDisabled -bool YES
```

### Verificar se esta rodando
```bash
# Chrome
curl -s http://127.0.0.1:9222/json/version | head -1

# Auto-daemon
pgrep -f "auto-daemon.js" && echo "Auto-Daemon OK"

# Bot manual (se usar)
pgrep -f "reply-bot.js" && echo "Bot Manual OK"
```

### Parar Auto-Daemon
```bash
# Graceful (salva estado)
pkill -2 -f "auto-daemon.js"

# Forcado
pkill -9 -f "auto-daemon.js"

# IMPORTANTE: Sempre verificar se realmente parou
ps aux | grep "auto-daemon" | grep -v grep
```

### CUIDADO: Multiplos Daemons
Se houver mais de 1 daemon rodando, os replies vao sair muito rapido (um de cada daemon). Sempre verificar:
```bash
ps aux | grep "auto-daemon" | grep -v grep | wc -l
# Deve mostrar 1 (ou 0 se parado)
```

### LaunchAgent vs Manual
O LaunchAgent `com.botxreply.daemon.plist` pode reiniciar o daemon automaticamente, criando duplicatas.
**Se for iniciar manualmente, SEMPRE desabilitar o LaunchAgent primeiro:**
```bash
launchctl bootout gui/$(id -u) ~/Library/LaunchAgents/com.botxreply.daemon.plist 2>/dev/null
launchctl unload ~/Library/LaunchAgents/com.botxreply.daemon.plist 2>/dev/null
```

### LaunchAgents (auto-start)
Os servi√ßos iniciam automaticamente via launchd:
- `com.botxreply.setup.plist` - Desativa App Nap
- `com.botxreply.chrome.plist` - Chrome modo debug
- `com.botxreply.bot.plist` - Bot Telegram
- `com.botxreply.daemon.plist` - Daemon de busca

---

## Historico de Melhorias (Guia de Referencia)

### 2026-02-02 (v3): Expans√£o para 7 Fontes de Discovery

**Objetivo**: Expandir alcance para contas que n√£o seguimos, mantendo foco no nicho mas aproveitando oportunidades de alto engajamento.

**Estrat√©gia 70/30 (Nicho vs Hype)**:
| Tipo | % | Crit√©rio | Objetivo |
|------|---|----------|----------|
| **Nicho** | 70% | Passa em RELEVANT_PATTERNS | Seguidores qualificados tech/AI/crypto |
| **Hype** | 30% | likes > 1000 OU replies > 300 | Exposi√ß√£o para apps de p√∫blico geral |

**3 Novas Fontes**:

1. **Keyword Search** (`findTweetsFromKeywordSearch()`)
   - Busca ativa por termos relevantes
   - 2 keywords por ciclo (aleatorias)
   - Score bonus: +12
   - Queries: "AI startup", "just shipped", "bitcoin", "vibe coding", etc.

2. **Monitored Accounts** (`findTweetsFromMonitoredAccounts()`)
   - Contas importantes que N√ÉO seguimos
   - 20+ contas: sama, paulg, levelsio, karpathy, TaviCosta, etc.
   - 3 contas verificadas por ciclo
   - Score bonus: +25 (high) / +15 (medium)

3. **Hype Mode** (`findHighEngagementTweets()`)
   - Tweets com alto engajamento FORA do nicho
   - Crit√©rio: likes > 1000 OU replies > 300
   - Roda 30% dos ciclos, SEMPRE em hor√°rio de pico
   - Blocklist: pol√≠tica, religi√£o, BBB, futebol
   - Score bonus: +35 (-10 se fora do nicho)

**Arquivos Modificados**:
- `src/discovery.js`: 3 novas fun√ß√µes, `discoverTweets()` para 7 fontes, `calculateScore()` atualizado
- `config/accounts.json`: `keyword_search`, `monitor_accounts`, `hype_mode`
- `.claude/CLAUDE.md`: documenta√ß√£o v3

**Comandos de Teste**:
```bash
# Testar Keyword Search
node -e "import('./src/discovery.js').then(m => m.findTweetsFromKeywordSearch(3).then(console.log))"

# Testar Monitored Accounts
node -e "import('./src/discovery.js').then(m => m.findTweetsFromMonitoredAccounts(3).then(console.log))"

# Testar Hype Mode
node -e "import('./src/discovery.js').then(m => m.findHighEngagementTweets(3).then(console.log))"

# Discovery completo (7 fontes)
node -e "import('./src/discovery.js').then(m => m.discoverTweets(15).then(t => {
  const sources = {}
  t.forEach(x => sources[x.source] = (sources[x.source]||0)+1)
  console.log('Por fonte:', sources)
}))"
```

---

### 2026-02-02 (v2): Creator Inspiration + Learning System

**Objetivo**: Maximizar boost algoritmico priorizando tweets onde autor responde comentarios

**Insight do Algoritmo do X**:
| Tipo de Engajamento | Peso no Algoritmo |
|---------------------|-------------------|
| Like simples | 1x |
| Reply direto | 13.5x |
| **Reply que recebe reply do autor** | **75x** |

**Nova Fonte: Creator Inspiration**
URL: `https://x.com/i/jf/creators/inspiration/top_posts`

Tweets curados pelo X, COM FALLBACK inteligente:
1. Primeiro tenta p√°gina Creator Inspiration
2. Filtra por keywords relevantes (tech/AI/startups/crypto)
3. Se n√£o encontrar tweets do nicho, faz busca com queries relevantes:
   - "AI startup launched min_faves:50"
   - "shipped product min_faves:100"
   - "crypto bitcoin min_faves:100"

**Por que "Most replies" e ouro**:
- Alta conversacao = autor provavelmente responde comentarios
- Se autor responder nosso reply = 75x boost algoritmico!

**Novo Sistema de Score**:
```
Base: likes/100 + retweets/10 + bonus recencia

Por fonte:
- Timeline: +0
- Trending: +10
- HackerNews: +15
- Creator Inspiration: +25
  - Tab "replies": +15 adicional

Por autor engajado (se verificado):
- 5+ replies do autor: +40
- 3+ replies: +25
- 1+ replies: +10
```

**Learning System** (`src/knowledge.js`):
- Registra performance por fonte/pais/tab
- Aprende quais combinacoes geram mais authorReplies
- Auto-ajusta prioridades apos 100+ posts

**Distribuicao por Horario de Pico**:
```
Pico (BR almoco + USA, BR tarde + USA):
  12-14h, 17-20h ‚Üí intervalo 10-15min

Bom (BR manha, BR noite):
  8-10h, 20-23h ‚Üí intervalo 12-18min

Fraco (transicao):
  outros ‚Üí intervalo 18-25min
```

**Arquivos Modificados**:
- `src/discovery.js`: `findCreatorInspirationTweets()`, `checkAuthorEngagement()`, `calculateScore()` atualizado
- `src/knowledge.js`: `recordSourceOutcome()`, `getBestSources()`, learning system
- `scripts/auto-daemon.js`: `getOptimalIntervalConfig()`, integracao learning
- `config/accounts.json`: novas configs

**Filtro de Keywords (Anti-Ru√≠do)**:
O Creator Inspiration mostra tweets populares GERAIS (BBB, m√∫sica, etc).
Filtramos por regex com word boundaries para garantir tweets do nicho:
- Tech/AI: `gpt`, `chatgpt`, `llm`, `claude`, `openai`, `machine learning`
- Startups: `startup`, `founder`, `vc`, `funding`, `shipped`
- Crypto: `bitcoin`, `ethereum`, `web3`, `defi`, `nft`
- Dev: `coding`, `programming`, `python`, `react`, `github`

**Comandos de Teste**:
```bash
# Testar Creator Inspiration isolado
node -e "import('./src/discovery.js').then(m => m.findCreatorInspirationTweets(5).then(console.log))"

# Testar discovery completo (4 fontes)
node -e "import('./src/discovery.js').then(m => m.discoverTweets(10).then(t => console.log(t.map(x => x.source + ':' + x.score))))"

# Ver melhores fontes aprendidas
node -e "import('./src/knowledge.js').then(m => console.log(m.getBestSources()))"
```

---

### 2026-02-02 (v1): Sistema Autonomo 50+ Replies/Dia

**Objetivo**: Transformar bot de aprovacao manual (10/dia) para autonomo (50-80/dia)

**Arquivos Criados**:
1. `src/discovery.js` - Descoberta multi-fonte de tweets
2. `scripts/auto-daemon.js` - Loop autonomo principal

**Arquivos Modificados**:
1. `src/finder.js` - Novos limites e tracking
2. `src/claude.js` - Rotacao de estilos
3. `src/telegram.js` - Resumo diario
4. `config/accounts.json` - Novas configs

**Sistema de Discovery (4 fontes)**:
```
1. Timeline (For You) - tweets do feed
2. Trending Topics - filtra por keywords relevantes (AI, crypto, tech)
3. Hacker News - busca tweets sobre posts do HN
4. Creator Inspiration - tweets curados pelo X (NOVO!)
```

**Rotacao de Estilos (anti-deteccao)**:
```javascript
// Ingles: direct, memory, casual (tbh/ngl), reaction, question
// Portugues: direto, memoria, giria (cara/mano), reacao, opiniao
// Nao repete ultimos 3 estilos usados
```

**Logica de Decisao**:
```
- Abaixo de 50: SEMPRE posta
- 50-70: SEMPRE posta
- 70-80: So se tweet.score >= 80
- Acima de 80: PARA (limite anti-bot)
```

**Intervalo Dinamico por Horario**:
```
Horarios de Pico (12-14h, 17-20h):
  - Base: 12min, Min: 10min, Max: 15min

Horarios Bons (8-10h, 20-23h):
  - Base: 15min, Min: 12min, Max: 18min

Horarios Fracos:
  - Base: 22min, Min: 18min, Max: 25min

+ Ajuste por progresso (atrasado/adiantado)
+ Variacao aleatoria: +/- 2min
```

**Protecoes**:
- Max 3 replies por conta/dia
- Nao repete tweets ja respondidos (hoje + historico)
- Verifica se ja curtiu o tweet
- Filtra por min_likes, max_replies, max_age

**Persistencia**:
- Estado salvo em `.auto-daemon-state.json`
- Base de conhecimento em `data/knowledge.json`
- Sobrevive a reinicializacao

---

### 2026-02-01: Anti-Deteccao de IA

**Problema**: Usu√°rio foi BLOQUEADO por @levelsio por reply detectado como IA.
**Reply problem√°tico**: "That's Eric Chahi's masterpiece! The rotoscoped animation was revolutionary - influenced countless indie devs. Fun fact: it runs on everything now."

**Sinais de IA detectados**:
- "Fun fact:" - frase t√≠pica de ChatGPT
- "masterpiece", "revolutionary", "countless" - palavras gen√©ricas de IA
- Estrutura perfeita com m√∫ltiplos fatos separados por travess√µes
- Muita informa√ß√£o empacotada em um reply

**Solu√ß√£o**:
- Reescrito prompt em `src/claude.js` para gerar replies HUMANOS
- Foco em: casual, curto, uma ideia, opini√£o pessoal
- Lista de palavras/frases PROIBIDAS
- Exemplos de como humanos realmente escrevem

---

### 2026-01-30: Corre√ß√µes Cr√≠ticas

#### 1. Timeout do Chrome com Tela Bloqueada
**Problema**: Chrome dava timeout quando a tela do Mac estava bloqueada.
**Solu√ß√£o**:
- Aumentar `protocolTimeout` de 60s para 120s
- Adicionar retry autom√°tico (3 tentativas)
- Flags anti-suspens√£o no Chrome
- Desativar App Nap: `defaults write com.google.Chrome NSAppSleepDisabled -bool YES`

#### 2. Sistema de Pesquisa Informativa
**Problema**: Replies gen√©ricos tipo "o que √© estranho?" sem contexto.
**Solu√ß√£o**:
- Novo m√≥dulo `src/research.js`
- Identifica t√≥pico do tweet antes de gerar
- Pesquisa dados e contexto relevantes
- Gera replies informativos com dados reais

#### 3. Fallback Puppeteer quando API Falha
**Problema**: Quando API do X d√° erro 429, sistema gerava replies errados baseado s√≥ no username.
**Solu√ß√£o**:
- Se API falhar ‚Üí Tenta Puppeteer
- Se Puppeteer falhar ‚Üí Pede texto manual
- Fluxo: API ‚Üí Puppeteer ‚Üí Manual

#### 4. Conflito de Inst√¢ncias Telegram
**Problema**: Erro "409 Conflict: terminated by other getUpdates request"
**Solu√ß√£o**:
- Descarregar LaunchAgents antes de iniciar manualmente
- `launchctl unload ~/Library/LaunchAgents/com.botxreply.*.plist`
- Manter apenas UMA inst√¢ncia do bot rodando

### Checklist de Problemas Comuns

| Problema | Causa | Solucao |
|----------|-------|---------|
| Timeout Chrome | Tela bloqueada | Verificar flags anti-suspensao |
| Replies genericos | Sem texto do tweet | Verificar extracao (API ou Puppeteer) |
| Erro 429 | Rate limit X | Aguardar 15-30min ou usar Puppeteer |
| Conflito Telegram | Multiplas instancias | Matar todos e iniciar um so |
| "Nao consegui acessar" | API + Puppeteer falharam | Colar texto manualmente |
| Auto-daemon parou | Crash ou reinicio | Verificar logs, reiniciar |
| Poucos replies | Filtros muito restritivos | Ajustar config/accounts.json |

---

## Configuracao Atual (accounts.json) - v3

```json
{
  "discovery": {
    "enabled": true,
    "explore_timeline": true,
    "explore_trending": true,
    "explore_hacker_news": true,
    "explore_creator_inspiration": true,
    "explore_keyword_search": true,
    "explore_monitored_accounts": true,
    "explore_hype_mode": true,
    "trending_keywords": ["AI", "crypto", "tech", "startup", "coding", "GPT", "LLM"],
    "creator_inspiration": {
      "enabled": true,
      "priority_tabs": ["replies", "likes"],
      "countries": ["United States", "Brazil"],
      "check_author_engagement": false
    }
  },
  "keyword_search": {
    "enabled": true,
    "keywords_per_cycle": 2,
    "bonus_score": 12
  },
  "monitor_accounts": {
    "enabled": true,
    "accounts_per_cycle": 3,
    "accounts": [
      { "username": "sama", "niche": "AI", "priority": "high" },
      { "username": "karpathy", "niche": "AI", "priority": "high" },
      { "username": "paulg", "niche": "startups", "priority": "high" },
      { "username": "levelsio", "niche": "indie", "priority": "high" },
      "... (20+ contas)"
    ]
  },
  "hype_mode": {
    "enabled": true,
    "min_likes": 1000,
    "min_replies": 300,
    "run_probability": 0.3,
    "always_in_peak_hours": true,
    "bonus_score": 35,
    "blocklist": ["bbb", "futebol", "pol√≠tica", "religi√£o"]
  },
  "filters": {
    "min_likes": 10,
    "max_replies": 200,
    "max_age_hours": 12
  },
  "daily_limits": {
    "min_total": 50,
    "normal_total": 70,
    "max_total": 80,
    "max_per_account": 3
  },
  "peak_hours": {
    "high": [12, 13, 14, 17, 18, 19, 20],
    "medium": [8, 9, 10, 21, 22, 23],
    "low": [11, 15, 16]
  },
  "peak_intervals": {
    "high": { "min": 10, "base": 12, "max": 15 },
    "medium": { "min": 12, "base": 15, "max": 18 },
    "low": { "min": 18, "base": 22, "max": 25 }
  }
}
```

---

## Estilos de Reply (Rotacao Automatica)

### REGRAS IMPORTANTES
- NUNCA comecar com: ngl, tbh, honestly, actually, na verdade, sinceramente
- NEM SEMPRE CONCORDAR! Variar entre concordar, discordar, questionar
- Cada reply deve ter abordagem diferente:
  1. Concorda mas adiciona algo
  2. Traz outro angulo/perspectiva
  3. Questiona ou mostra ceticismo

### Ingles (10 estilos)
| Estilo | Dica | Exemplo |
|--------|------|---------|
| direct | reacao curta 3-6 palavras | "this is wild" |
| memory | memoria pessoal | "used to see this pattern in 2021" |
| observation | aponta algo especifico | "that 70k zone looking dangerous" |
| question | pergunta curiosa | "when did this start?" |
| disagree | discorda educadamente | "idk i think opposite might happen" |
| contrarian | visao oposta | "everyone saying this but last time it dumped" |
| skeptic | duvida da premissa | "feels like a trap setup" |
| add_context | adiciona info | "funding rates still negative tho" |
| personal_take | sua previsao | "my bet is we sweep lows first" |
| experience | experiencia pessoal | "got rekt fading this signal last time" |

### Portugues (10 estilos)
| Estilo | Dica | Exemplo |
|--------|------|---------|
| direto | reacao curta | "isso ta tenso" |
| memoria | passado pessoal | "vi isso em 2021" |
| observacao | aponta especifico | "essa zona de 70k preocupa" |
| pergunta | curiosa | "desde quando ta assim?" |
| discordo | discorda | "sei la acho q vai ser o contrario" |
| contrario | visao oposta | "todo mundo fala isso mas despencou" |
| cetico | duvida | "parece armadilha" |
| contexto | adiciona info | "funding ainda negativo ne" |
| opiniao | sua previsao | "aposto q busca fundo antes" |
| experiencia | pessoal | "tomei prejuizo ignorando isso" |

**Regra**: Nao repete os ultimos 5 estilos usados

---

## Emojis Contextuais (Anti-Deteccao)

### Implementacao (2026-02-02)
Emojis adicionados de forma natural e aleatorio (~30%) para parecer mais humano.

**Arquivo**: `src/claude.js` linha ~131 (dentro de `REPLY_SYSTEM_PROMPT`)

### Regras no Prompt
- Usar em ~30% dos replies (Claude decide)
- Maximo 1 emoji por reply
- Sempre no FINAL do texto
- Na duvida, NAO usar

### Emojis Permitidos
| Emoji | Contexto |
|-------|----------|
| üòÖ | Situacao engra√ßada/constrangedora |
| ü§î | Duvida, pensando, cetico |
| üëÄ | Interessante, observando |
| üò¨ | Tenso, preocupante |
| üëç | Concordancia |
| ü´† | Overwhelmed, derretendo |

### Emojis PROIBIDOS
üî•üöÄüíØ‚ù§Ô∏èü§ñü§Øüôå - Combinacoes classicas de bots/spam

### Exemplos
```
"isso ta tenso üò¨"
"faz sentido üëç"
"sei la ü§î"
"que isso kkkk üòÖ"
```